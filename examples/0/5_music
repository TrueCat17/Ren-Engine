Музыка и звуки.


Микшеры - это, если упрощённо, группы звуковых каналов.
Нужны для того, чтобы массово регулировать громкость нужных каналов в настройках.

Микшеры автоматически создаются при первом упоминании.
По-умолчанию используются такие:
ambience (окружение),
music (музыка),
sfx (звуки).


Звуковые каналы - это то, с помощью чего можно проигрывать звук.
Каждый звуковой канал имеет свою громкость и зацикленность/незацикленность (повтор после завершения) и может одновременно проигрывать только один звук.

По-умолчанию существуют такие:
music (микшер music, повтор),
sound, sound2, sound3 (микшер sfx, без повтора),
ambience, sound_loop, sound_loop2, sound_loop3 (микшер ambience, повтор).

Они зарегистрированы в файле resources/mods/engine/sound_channels.rpy


Регистрация звуковых каналов:
renpy.music.register_channel("name", "mixer", loop)
Где name - имя регистрируемого канала,
	mixer - используемый микшер,
	loop - True - зациклить, False - без повторов.

Например, канал sound зарегистрирован так:
renpy.music.register_channel("sound", "sfx", False)


Установка громкости:
renpy.music.set_volume(vol, channel)
Где vol - громкость от 0 (0%) до 1.0 (100%),
	channel - звуковой канал.

Для установки громкости всех каналов с определённым микшером есть функция set_mixer_volume(vol, mixer).


Проигрывание:

В сценарии:
play channel file_name [fadein time = 0]
Где channel - звуковой канал,
	file_name - имя проигрываемого файла,
	time - время (в сек.) усиления звука от нуля до полной громкости (по-умолчанию 0).
Примеры:
play sound sfx_intro_bus_stop_steps
play music music_list["a_promise_from_distant_days_v2"] fadein 1.5

В питоне:
renpy.play(file_name, channel, fadein = 0)


Остановка:

В сценарии:
stop channel [fadeout time = 0]
Где channel - звуковой канал.
	time - время (в сек.) убавления звука от полной громкости до нуля (по-умолчанию 0).

Пример:
stop ambience

В питоне:
renpy.stop(channel, fadeout = 0)


Наверно, будут вопросы, почему тут так часто встречается renpy?
Для облегчения портирования с самого RenPy.
Да и запутывать то, что и так не является слишком понятным, явно не стоит.
